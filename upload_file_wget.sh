#!/bin/bash
# I don't have much faith that this script will work, but I don't use terminator, so I can't tell.
if [ -z "$SOURCE"]; then SOURCE="./functions.sh";
source "$SOURCE"
fi

PORT=$(($RANDOM+3000))
filename=$(basename $1)
TMPDIR=$(mktemp -d)


cp $1 $TMPDIR
terminator --working-directory=$TMPDIR -e "python3 -m http.server $PORT"
command "wget http://$IP:$PORT/$filename -O /dev/shm/$filename"
ctrl C